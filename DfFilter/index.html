<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>DfFilter</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Xabi Bello"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="css/base.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="1000"><div class="step step-level-1 slide" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="o-problema">O problema</h1><ul><li>Cando anotamos unha mostra generamos un archivo TSV con varias decenas de
columnas.</li><li>O problema &#xE9; que o investigador ten que facer un filtrado dos datos.</li><li>Bugs, repetibilidad...</li></ul></div><div class="step step-level-1" step="1" data-x="1000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-y="0" data-z="0"><p><strong>Soluci&#xF3;n</strong></p><ul><li>Requisitos: Python &#x2265; 3.4, Pandas, dffiltering</li></ul><p><a href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a></p><p><a href="https://pypi.python.org/pypi/pandas/0.19.1/#downloads">https://pypi.python.org/pypi/pandas/0.19.1/#downloads</a></p><p><a href="https://github.com/xbello/dffiltering">https://github.com/xbello/dffiltering</a></p></div><div class="step step-level-1" step="2" data-x="2000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-y="0" data-z="0"><dl><dt><strong>Algoritmo</strong>: Cargar o archivo .tsv en un dataframe, cargar as condici&#xF3;ns de</dt><dd><p>filtrado, filtrar secuencialmente o dataframe, devolver o resultado.</p></dd></dl><p><strong>API</strong></p><pre class="highlight code python"><span class="k">print</span><span class="p">(</span><span class="n">main</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">tsv</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">tsv</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">"samples"</span><span class="p">)):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"{}_{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">tsv</span><span class="p">))</span> <span class="k">as</span> <span class="n">out</span><span class="p">:</span>
        <span class="n">main</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">tsv</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></pre><p><strong>L&#xED;nea de comandos</strong></p><pre class="highlight code bash">dff tsv json &gt; output.tsv

<span class="k">for</span> tsv in *.tsv<span class="p">;</span>
  <span class="k">do</span> dff tsv json &gt; F_<span class="nv">$tsv</span><span class="p">;</span>
<span class="k">done</span></pre></div><div class="step step-level-1" step="3" data-x="3000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-y="0" data-z="0"><h1 id="limitacions">Limitaci&#xF3;ns</h1><ul><li>As columnas est&#xE1;n fixadas no archivo <a href="https://github.com/xbello/dffiltering/blob/master/dffiltering/ff/columns.py">columns.py</a>.</li><li>Non se admiten Excel &#x1F648;.</li><li>Faltan algunhas opci&#xF3;ns de filtrado (OR, not contains).</li></ul></div><div class="step step-level-1" step="4" data-x="4000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-y="0" data-z="0"><h1 id="fin-de-la-diversion-comienza-la-zona-salvaje">Fin de la diversi&#xF3;n, comienza la zona salvaje</h1><img src="images/esquema.png" width="800px"></img></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>